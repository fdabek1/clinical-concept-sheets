(function(e){function t(t){for(var s,i,l=t[0],o=t[1],c=t[2],u=0,f=[];u<l.length;u++)i=l[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);p&&p(t);while(f.length)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(s=!1)}s&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var s={},i={app:0},r={app:0},a=[];function l(e){return o.p+"js/"+({about:"about"}[e]||e)+"."+{about:"7c44b25e"}[e]+".js"}function o(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n={about:1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var s="css/"+({about:"about"}[e]||e)+"."+{about:"08eb512c"}[e]+".css",r=o.p+s,a=document.getElementsByTagName("link"),l=0;l<a.length;l++){var c=a[l],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===s||u===r))return t()}var f=document.getElementsByTagName("style");for(l=0;l<f.length;l++){c=f[l],u=c.getAttribute("data-href");if(u===s||u===r)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var s=t&&t.target&&t.target.src||r,a=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=s,delete i[e],p.parentNode.removeChild(p),n(a)},p.href=r;var d=document.getElementsByTagName("head")[0];d.appendChild(p)})).then((function(){i[e]=0})));var s=r[e];if(0!==s)if(s)t.push(s[2]);else{var a=new Promise((function(t,n){s=r[e]=[t,n]}));t.push(s[2]=a);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=l(e);var f=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(p);var n=r[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+s+": "+i+")",f.name="ChunkLoadError",f.type=s,f.request=i,n[1](f)}r[e]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},o.m=e,o.c=s,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/clinical-concept-sheets/",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var f=0;f<c.length;f++)t(c[f]);var p=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"24fe":function(e,t,n){"use strict";var s=n("3664"),i=n.n(s);i.a},"28dc":function(e,t,n){},3664:function(e,t,n){},"56d4":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"container-fluid bg-light"},[n("div",{staticClass:"row vh-100"},[n("nav",{staticClass:"col-md-2 d-none d-md-block bg-nicoe-blue sidebar"},[n("div",{staticClass:"sticky-top"},[e._m(0),n("ul",{staticClass:"nav flex-column"},[n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link text-white h6",attrs:{to:"/"}},[e._v("Home")]),n("router-link",{staticClass:"nav-link text-white h6",attrs:{to:"/usage"}},[e._v("Usage")])],1)])])]),n("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 px-4 mb-5 bg-light",attrs:{role:"main"}},[n("router-view",{staticClass:"p-2"})],1)])])])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center py-1"},[n("h3",{staticClass:"text-white"},[e._v("Clinical Concept Repository")])])}],a=(n("94d4"),n("2877")),l={},o=Object(a["a"])(l,i,r,!1,null,"28615387",null),c=o.exports,u=(n("d3b7"),n("8c4f")),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("h1",{staticClass:"display-4"},[e._v("Clinical Concept Sheets")]),null!==e.sheets?n("div",[n("b-form-input",{attrs:{type:"search",size:"sm",placeholder:"Type to Search"},model:{value:e.filters.search,callback:function(t){e.$set(e.filters,"search",t)},expression:"filters.search"}}),n("div",{staticClass:"d-flex justify-content-end"},[n("span",{staticClass:"text-muted small"},[e._v(e._s(e.sheets.length.toLocaleString())+" sheets")])]),n("b-table",{staticClass:"text-center",attrs:{fields:e.fields,items:e.sheets,filter:e.filters,"filter-function":e.filterRow},scopedSlots:e._u([{key:"head(Concept)",fn:function(t){return[e._v(" "+e._s(t.label)+" "),n("FilterBox",{attrs:{title:"Concepts",values:e.allConcepts},model:{value:e.filters.concepts,callback:function(t){e.$set(e.filters,"concepts",t)},expression:"filters.concepts"}})]}},{key:"head(Tags)",fn:function(t){return[e._v(" "+e._s(t.label)+" "),n("FilterBox",{attrs:{title:"Tags",values:e.allTags},model:{value:e.filters.tags,callback:function(t){e.$set(e.filters,"tags",t)},expression:"filters.tags"}})]}},{key:"cell(Version)",fn:function(t){return[e._v(" "+e._s(t.item["MajorVersion"])+"."+e._s(t.item["MinorVersion"])+" ")]}},{key:"cell(Tags)",fn:function(t){return e._l(t.value,(function(t){return n("b-badge",{staticClass:"mr-2"},[e._v(e._s(t))])}))}},{key:"cell(LastModified)",fn:function(t){return[e._v(" "+e._s(new Date(t.value).toLocaleDateString())+" ")]}},{key:"cell(Go)",fn:function(t){return[n("b-btn",{attrs:{size:"sm",variant:"nicoe-light-blue"},on:{click:function(n){return e.openDetails(t.item["ID"])}}},[e._v("View Details")])]}},{key:"cell(Author)",fn:function(t){return[n("span",{domProps:{innerHTML:e._s(e.highlightText(t.value))}})]}},{key:"cell(Concept)",fn:function(t){return[n("span",{domProps:{innerHTML:e._s(e.highlightText(t.value))}})]}},{key:"cell(Description)",fn:function(t){return[n("span",{domProps:{innerHTML:e._s(e.highlightText(t.value))}})]}}],null,!1,2632483597)})],1):e._e(),n("Sheet",{ref:"modal",attrs:{id:null===e.selected?null:e.selected["ID"],details:e.selected}})],1)},p=[],d=(n("4de4"),n("7db0"),n("0481"),n("caad"),n("d81d"),n("45fc"),n("4069"),n("4d63"),n("ac1f"),n("25f0"),n("6062"),n("2532"),n("3ca3"),n("5319"),n("841c"),n("1276"),n("ddb0"),n("2909")),h=n("369b"),m=n.n(h),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{title:"Sheet",id:"sheet-details",size:"xl","ok-only":!0,"ok-title":"Close","ok-variant":"secondary"},on:{shown:e.loadCodes,hide:function(t){e.filters.search=""}}},[null!==e.codes?n("template",{slot:"modal-title"},[e._v(" "+e._s(e.details["Concept"])+" - "+e._s(e.details["Author"])+" ")]):e._e(),null!==e.codes?n("div",[n("p",[n("strong",[e._v("Version:")]),e._v(" "+e._s(e.details["MajorVersion"])+"."+e._s(e.details["MinorVersion"]))]),n("p",[n("strong",[e._v("Last Modified:")]),e._v(" "+e._s(new Date(e.details["LastModified"]).toLocaleDateString()))]),n("p",[n("strong",[e._v("Description:")]),e._v(" "+e._s(e.details["Description"]))]),n("b-form-input",{attrs:{type:"search",size:"sm",placeholder:"Type to Search"},model:{value:e.filters.search,callback:function(t){e.$set(e.filters,"search",t)},expression:"filters.search"}}),n("div",{staticClass:"d-flex justify-content-end mb-2"}),n("div",{staticClass:"d-flex justify-content-between align-items-end"},[n("b-pagination",{attrs:{"total-rows":e.numRows,"per-page":e.pagination.perPage},model:{value:e.pagination.current,callback:function(t){e.$set(e.pagination,"current",t)},expression:"pagination.current"}}),n("div",{staticClass:"pb-2"},[n("b-btn",{staticClass:"mr-2",attrs:{variant:"nicoe-green",size:"xs",href:"sheets/"+e.id+".csv",target:"_blank"}},[e._v(" Download ")]),n("span",{staticClass:"text-muted small"},[e._v(e._s(e.codes.length.toLocaleString())+" codes")])],1)],1),n("b-table",{staticClass:"text-center",attrs:{fields:e.fields,items:e.codes,filter:e.filters,"filter-function":e.filterRow,"per-page":e.pagination.perPage,"current-page":e.pagination.current},scopedSlots:e._u([{key:"head(Type)",fn:function(t){return[e._v(" "+e._s(t.label)+" "),n("FilterBox",{attrs:{title:"Types",values:e.allTypes},model:{value:e.filters.types,callback:function(t){e.$set(e.filters,"types",t)},expression:"filters.types"}})]}},{key:"head(Classification)",fn:function(t){return[e._v(" "+e._s(t.label)+" "),n("FilterBox",{attrs:{title:"Classifications",values:e.allClassifications},model:{value:e.filters.classifications,callback:function(t){e.$set(e.filters,"classifications",t)},expression:"filters.classifications"}})]}},{key:"cell(Code)",fn:function(t){return[n("span",{domProps:{innerHTML:e._s(e.highlightText(t.value))}})]}},{key:"cell(Description)",fn:function(t){return[n("span",{domProps:{innerHTML:e._s(e.highlightText(t.value))}})]}}],null,!1,3656535554)})],1):e._e()],2)},g=[],b=(n("c975"),n("a434"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("b-btn",{staticClass:"ml-1",attrs:{href:"#",size:"xs",id:e.title+"-target",variant:"light"}},[n("font-awesome-icon",{class:e.indeterminate?"text-nicoe-light-blue":"text-secondary",attrs:{icon:"filter"}})],1),n("b-popover",{attrs:{target:e.title+"-target",triggers:"focus",placement:"bottom"}},[n("b-card",{staticClass:"filter-content overflow-auto p-2 border-0",attrs:{"no-body":""}},[n("b-input",{staticClass:"mb-2",attrs:{type:"search",size:"sm"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),n("b-form-checkbox",{attrs:{indeterminate:e.indeterminate},on:{change:e.toggleAll},model:{value:e.allSelected,callback:function(t){e.allSelected=t},expression:"allSelected"}},[e._v(" "+e._s(e.allSelected?"Select None":"Select All")+" ")]),n("b-form-checkbox-group",{attrs:{stacked:""},model:{value:e.filters,callback:function(t){e.filters=t},expression:"filters"}},e._l(e.searchedValues,(function(t){return n("b-form-checkbox",{attrs:{value:t.title}},[e._v(" "+e._s(t.title)+" "),n("span",{staticClass:"text-muted small"},[e._v("("+e._s(t.count)+")")])])})),1)],1)],1)],1)}),y=[],C={name:"FilterBox",props:["title","values","value"],data:function(){return{search:null}},computed:{filters:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},allSelected:{get:function(){return this.filters.length===this.values.length},set:function(e){}},indeterminate:function(){return 0!==this.filters.length&&this.filters.length!==this.values.length},searchedValues:function(){var e=this;return null===this.search||""===this.search?this.values:this.values.filter((function(t){return t.title.toUpperCase().includes(e.search.toUpperCase())}))}},methods:{toggleAll:function(e){e?this.$emit("input",this.values.map((function(e){return e.title}))):this.$emit("input",[])}}},_=C,x=(n("24fe"),Object(a["a"])(_,b,y,!1,null,"6545a003",null)),k=x.exports,w={name:"Sheet",components:{FilterBox:k},props:["id","details"],computed:{numRows:function(){return this.codes.length},hasClassification:function(){if(null===this.codes)return!1;var e=Object(d["a"])(new Set(this.codes.map((function(e){return e["Classification"]}))));return e.length>1||""!==e[0]},hasType:function(){if(null===this.codes)return!1;var e=Object(d["a"])(new Set(this.codes.map((function(e){return e["Type"]}))));return e.length>1||""!==e[0]},fields:function(){if(null===this.codes)return[];var e=["Code","Type","Classification","Description"];return this.hasClassification||e.splice(e.indexOf("Classification"),1),this.hasType||e.splice(e.indexOf("Type"),1),e.map((function(e){return{key:e,sortable:!0}}))},allTypes:function(){var e=this,t=Object(d["a"])(new Set(this.codes.map((function(e){return e["Type"]}))));return t.map((function(t){return{title:t,count:e.codes.filter((function(e){return e["Type"]===t})).length}}))},allClassifications:function(){var e=this,t=Object(d["a"])(new Set(this.codes.map((function(e){return e["Classification"]}))));return t.map((function(t){return{title:t,count:e.codes.filter((function(e){return e["Classification"]===t})).length}}))}},data:function(){return{pagination:{current:1,perPage:15},codes:null,filters:{search:null,types:[],classifications:[]}}},methods:{highlightText:function(e){if(""===this.filters.search)return e;var t=new RegExp("("+this.filters.search+")","ig");return e.replace(t,"<mark>$1</mark>")},filterRow:function(e,t){if(null!==t.search&&""!==t.search){var n=["Code","Description"];if(n=n.filter((function(n){return e[n].toUpperCase().includes(t.search.toUpperCase())})),0===n.length)return!1}return!(this.hasClassification&&!t.classifications.includes(e["Classification"]))&&!(this.hasType&&!t.types.includes(e["Type"]))},loadCodes:function(){var e=this;m.a.parse("sheets/"+this.id+".csv",{download:!0,header:!0,skipEmptyLines:!0,complete:function(t){e.codes=t.data,e.hasClassification&&(e.filters.classifications=e.allClassifications.map((function(e){return e.title}))),e.hasType&&(e.filters.types=e.allTypes.map((function(e){return e.title})))}})}}},T=w,S=Object(a["a"])(T,v,g,!1,null,"53292bf3",null),j=S.exports,O={name:"Home",components:{FilterBox:k,Sheet:j},computed:{allConcepts:function(){var e=this,t=Object(d["a"])(new Set(this.sheets.map((function(e){return e["Concept"]}))));return t.map((function(t){return{title:t,count:e.sheets.filter((function(e){return e["Concept"]===t})).length}}))},allTags:function(){var e=this,t=Object(d["a"])(new Set(this.sheets.map((function(e){return e["Tags"]})).flat()));return t.map((function(t){return{title:t,count:e.sheets.filter((function(e){return e["Tags"].includes(t)})).length}}))}},data:function(){return{sheets:null,selected:null,fields:[{key:"Concept",sortable:!0},{key:"Description",sortable:!0},{key:"Tags",sortable:!0},{key:"Author",sortable:!0},{key:"Version",sortable:!0},{key:"LastModified",title:"Last Modified",sortable:!0},"Go"],filters:{search:null,concepts:[],tags:[]}}},mounted:function(){var e=this;m.a.parse("sheets.csv",{download:!0,header:!0,skipEmptyLines:!0,complete:function(t){e.sheets=t.data.map((function(e){return e["Tags"]=e["Tags"].split(","),e})),e.filters.concepts=e.allConcepts.map((function(e){return e.title})),e.filters.tags=e.allTags.map((function(e){return e.title}))}})},methods:{highlightText:function(e){if(""===this.filters.search)return e;var t=new RegExp("("+this.filters.search+")","ig");return e.replace(t,"<mark>$1</mark>")},filterRow:function(e,t){if(null!==t.search&&""!==t.search){var n=["Author","Concept","Description"];if(n=n.filter((function(n){return e[n].toUpperCase().includes(t.search.toUpperCase())})),0===n.length)return!1}return!!t.concepts.includes(e["Concept"])&&!!e["Tags"].some((function(e){return t.tags.includes(e)}))},openDetails:function(e){this.selected=this.sheets.find((function(t){return t["ID"]===e})),this.$root.$emit("bv::show::modal","sheet-details")}}},D=O,L=Object(a["a"])(D,f,p,!1,null,null,null),$=L.exports;s["default"].use(u["a"]);var M=[{path:"/",name:"Home",component:$},{path:"/mappings",name:"Mappings",component:function(){return n.e("about").then(n.bind(null,"3af7"))}},{path:"/submit",name:"Submit",component:function(){return n.e("about").then(n.bind(null,"5d94"))}},{path:"/usage",name:"Usage",component:function(){return n.e("about").then(n.bind(null,"1641"))}}],E=new u["a"]({routes:M}),P=E,A=n("ecee"),B=n("ad3d"),V=n("5f5b"),H=(n("f9e3"),n("2dd8"),n("56d4"),n("c074"));A["c"].add(H["a"]),s["default"].use(V["a"]),s["default"].component("font-awesome-icon",B["a"]),s["default"].config.productionTip=!1,new s["default"]({router:P,render:function(e){return e(c)}}).$mount("#app")},"94d4":function(e,t,n){"use strict";var s=n("28dc"),i=n.n(s);i.a}});
//# sourceMappingURL=app.75130565.js.map